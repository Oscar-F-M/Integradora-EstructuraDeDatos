<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Sistema de Gestión Hospitalaria</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <div class="container my-4 app-wrapper">
        <div class="card app-card">

            <!-- ENCABEZADO -->
            <div class="app-header text-center">
                <h3 class="mb-1">Sistema de Gestión Hospitalaria</h3>
                <p class="mb-0">Pacientes · Citas · Historial</p>
            </div>

            <!-- TABS -->
            <ul class="nav nav-tabs nav-fill app-tabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#tab-pacientes" type="button">
                        Pacientes (Lista)
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tab-citas" type="button">
                        Citas (Cola)
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tab-historial" type="button">
                        Historial (Pila)
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#tab-estadisticas" type="button">
                        Estadísticas
                    </button>
                </li>
            </ul>

            <!-- CONTENIDO TABS -->
            <div class="tab-content tab-content-wrapper">

                <!-- ================= PACIENTES ================= -->
                <div class="tab-pane fade show active" id="tab-pacientes">
                    <h5 class="mb-3">Gestión de Pacientes (Lista)</h5>

                    <!-- Form Paciente -->
                    <div class="card card-soft mb-4">
                        <div class="card-body">
                            <h6 class="mb-3">Registrar / Actualizar Paciente</h6>

                            <form id="formPaciente">
                                <div class="row g-3">
                                    <div class="col-md-3">
                                        <label class="form-label">Nombre</label>
                                        <input type="text" id="nombre" class="form-control" required>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Apellido</label>
                                        <input type="text" id="apellido" class="form-control" required>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Cédula</label>
                                        <input type="text" id="cedula" class="form-control" required>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Fecha de Nacimiento</label>
                                        <input type="date" id="fechaNacimiento" class="form-control" required>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Teléfono</label>
                                        <input type="text" id="telefono" class="form-control">
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Email</label>
                                        <input type="email" id="email" class="form-control">
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Dirección</label>
                                        <input type="text" id="direccion" class="form-control">
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Tipo de Sangre</label>
                                        <select id="tipoSangre" class="form-select">
                                            <option value="">Selecciona...</option>
                                            <option>O+</option>
                                            <option>O-</option>
                                            <option>A+</option>
                                            <option>A-</option>
                                            <option>B+</option>
                                            <option>B-</option>
                                            <option>AB+</option>
                                            <option>AB-</option>
                                        </select>
                                    </div>
                                </div>

                                <button id="btnGuardarPaciente" class="btn btn-primary mt-3">
                                    Registrar Paciente
                                </button>

                            </form>
                        </div>
                    </div>

                    <!-- Tabla Pacientes -->
                    <div class="card card-soft">
                        <div class="card-body">
                            <h6 class="mb-3">Lista de Pacientes</h6>

                            <div class="table-responsive">
                                <table class="table table-striped table-bordered align-middle">
                                    <thead class="table-dark">
                                        <tr>
                                            <th>ID</th>
                                            <th>Nombre</th>
                                            <th>Cédula</th>
                                            <th>Teléfono</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaPacientes"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ================= CITAS (COLA) ================= -->
                <div class="tab-pane fade" id="tab-citas">
                    <h5 class="mb-3">Cola de Citas (FIFO con prioridad)</h5>

                    <!-- Form Cita -->
                    <div class="card card-soft mb-4">
                        <div class="card-body">
                            <h6 class="mb-3">Agregar Cita a la Cola</h6>

                            <div class="row g-3">
                                <div class="col-md-3">
                                    <label class="form-label">ID Paciente</label>
                                    <input type="number" id="citaPacienteId" class="form-control"
                                        placeholder="ID paciente">
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Médico</label>
                                    <input type="text" id="citaMedico" class="form-control">
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Especialidad</label>
                                    <input type="text" id="citaEspecialidad" class="form-control">
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Fecha y Hora</label>
                                    <input type="datetime-local" id="citaFecha" class="form-control">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Motivo</label>
                                    <input type="text" id="citaMotivo" class="form-control">
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Prioridad</label>
                                    <select id="citaPrioridad" class="form-select">
                                        <option value="NORMAL">NORMAL</option>
                                        <option value="URGENTE">URGENTE</option>
                                        <option value="EMERGENCIA">EMERGENCIA</option>
                                    </select>
                                </div>
                            </div>

                            <div class="mt-3 d-flex gap-2 flex-wrap">
                                <button class="btn btn-primary" onclick="agregarCita()">Agregar a Cola</button>
                                <button class="btn btn-outline-secondary" onclick="verSiguiente()">Ver
                                    Siguiente</button>
                                <button class="btn btn-success" onclick="atenderSiguiente()">Atender Siguiente</button>
                            </div>
                        </div>
                    </div>

                    <!-- Tabla Cola -->
                    <div class="card card-soft">
                        <div class="card-body">
                            <h6 class="mb-3">Citas en Cola</h6>
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered align-middle">
                                    <thead class="table-dark">
                                        <tr>
                                            <th>Paciente ID</th>
                                            <th>Médico</th>
                                            <th>Especialidad</th>
                                            <th>FechaHora</th>
                                            <th>Prioridad</th>
                                            <th>Estado</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaCola"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ================= HISTORIAL (PILA) ================= -->
                <div class="tab-pane fade" id="tab-historial">
                    <h5 class="mb-3">Historial Clínico (Pila LIFO)</h5>

                    <!-- Form Historial -->
                    <div class="card card-soft mb-4">
                        <div class="card-body">
                            <h6 class="mb-3">Agregar Registro al Historial</h6>

                            <div class="row g-3">
                                <div class="col-md-3">
                                    <label class="form-label">ID Paciente</label>
                                    <input type="text" id="histPacienteId" class="form-control">
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Nombre del Médico</label>
                                    <input type="text" id="histMedico" class="form-control">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Diagnóstico</label>
                                    <input type="text" id="histDiagnostico" class="form-control">
                                </div>
                                <div class="col-12">
                                    <label class="form-label">Tratamiento</label>
                                    <textarea id="histTratamiento" class="form-control" rows="2"></textarea>
                                </div>
                            </div>

                            <div class="mt-3 d-flex gap-2 flex-wrap">
                                <button class="btn btn-primary" onclick="agregarHistorial()">Agregar Registro</button>
                                <button class="btn btn-outline-secondary" onclick="verHistorial()">Ver Historial
                                    Completo</button>
                                <button class="btn btn-outline-info" onclick="estadisticasHistorial()">Ver Estadísticas
                                    Historial</button>
                            </div>
                        </div>
                    </div>

                    <!-- Tabla Historial -->
                    <div class="card card-soft">
                        <div class="card-body">
                            <h6 class="mb-3">Registros del Historial</h6>

                            <div class="table-responsive">
                                <table class="table table-striped table-bordered align-middle">
                                    <thead class="table-dark">
                                        <tr>
                                            <th>Fecha</th>
                                            <th>Médico</th>
                                            <th>Diagnóstico</th>
                                            <th>Tratamiento</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaHistorial"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ================= ESTADÍSTICAS ================= -->
                <div class="tab-pane fade" id="tab-estadisticas">
                    <h5 class="mb-3">Estadísticas Generales</h5>

                    <div class="card card-soft">
                        <div class="card-body">
                            <p>Consulta rápida de datos de tus estructuras:</p>

                            <div class="d-flex flex-wrap gap-2">
                                <button class="btn btn-primary" onclick="estadisticasPacientes()">
                                    Pacientes (Lista)
                                </button>
                                <button class="btn btn-primary" onclick="estadisticasCola()">
                                    Cola de Citas
                                </button>
                                <button class="btn btn-primary" onclick="estadisticasHistorial()">
                                    Historial del Paciente (usar ID en pestaña Historial)
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

            </div> <!-- tab-content -->
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="app.js"></script>
</body>

</html>